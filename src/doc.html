<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="style.css" />
        <title>Documentation</title>
        <link rel="icon" href="/assets/favicon.ico" />
    </head>
    <body>
      <x-header></x-header>
      <main>
        <div id="doc">
          <h1>Challenge Open Data</h1>

          <h2>Membres du groupe</h2>
          <ul>
            <li>Maud Bergonzoli</li>
            <li>Anaïs Potel</li>
            <li>Guilherme Faccin Huth</li>
            <li>Bruno Carrère</li>
            <li>Samuel Thiken</li>
          </ul>
  
          <h2>Introduction</h2>
          <p>L'objectif de ce projet est de mettre en oeuvre une visualisation d'un grand nombre de données open data. En effet, on se retrouve aujourd'hui à avoir de plus en plus de données. Mais sans pouvoir interpréter ces données, il serait inutile de les récolter.</p>
          <p>Ainsi, à partir d'un jeu de données préalablement choisi, nous allons mettre en valeur certains aspects des données afin de pouvoir en extraire le plus d'information possible. Pour cela, il sera nécessaire de choisir une représentation graphique adaptée des données afin d'avoir une visualisation lisible et compréhensible pour un humain.</p>
  
          <h2>Jeu de données choisi</h2>
          <p>Nous avons donc choisi le jeu de données fourni par : <a href="https://github.com/owid/owid-datasets/blob/master/datasets/Environmental%20impacts%20of%20food%20(Clark%20et%20al.%202022)/Environmental%20impacts%20of%20food%20(Clark%20et%20al.%202022).csv">Environmental impacts of food (Clark et al. 2022)</a></p>
          <p>Ce set de données indique, pour une liste étendue d'ingrédients, leurs impacts environnementaux (eau requise, espace nécessaire, quantité de gaz à effet de serre émise) ramené au poids, nombre de calories ou de protéines.</p>
          <p>Le but est alors d'évaluer, selon ces critères, l'impact de plats typiquement français. On peut notamment prendre comme exemple les plats suivants, composés d'ingrédients simples :</p>
          <ul>
              <li>Poulet basquaise : poulet, tomates, poivrons, oignons, huile d'olive</li>
              <li>Gratin dauphinois : patates, crème, lait</li>
              <li>Boeuf bourguignon : boeuf, vin, carottes, oignons.</li>
          </ul>
          <p>De plus, pour chaque plat, on cherche à mettre en valeur la quantité de glucides, lipides et protéines pour chaque ingrédient.</p>
          <p>On notera que ces données proviennent du Royaume-Uni. On peut donc supposer que cela faussera nos résultats puisque la majorité des produits peuvent provenir de France. Cependant, on peut ajouter deux suppositions plausibles pour contrer ces inquiétudes.</p>
          <p>La première réside dans le fait que le climat et les pratiques du Royaume-Uni et de la France sont suffisamment proches pour estimer un coût similaire pour les différentes denrées.</p>
          <p>La seconde découle de l'étude proposée par Hannah Ritchie sur <a href="https://ourworldindata.org/food-choice-vs-eating-local">l'impact du transport vis-à-vis de la production de la nourriture</a>. Cet article indique donc que l'on peut considérer l'impact du transport depuis le Royaume-Uni vers la France comme nul en comparaison de l'impact de la production elle-même.</p>
  
          <h2>Interface et interactions</h2>
          <p>Nous avons créé un dashboard qui permet de sélectionner les plats que l'on souhaite comparer.</p>
          <p>Sur un premier graphique, on peut sélectionner les informations que l'on veut comparer entre les différents plats sélectionnés. Les informations à comparer portent sur les impacts environnementaux d'un plat. On obtient alors un <b>digramme à barres groupées et empilées</b> nous permettant de comparer les plats sur les critères sélectionnés.</p>
          <p>Dans une seconde partie, pour chaque plat sélectionné, on affiche un <b>graphique en anneaux</b> indiquant la quantité de glucides, de lipides et de protéines que chaque ingrédient apporte au plat.</p>
          <p>Voici un aperçu de ce qui était initialement prévu:</p>
          <img src="assets/project-preview.png" alt="Prévisualisation" />
  
  
          <h2>Architecture et bibliothèques</h2>
          <p>Pour afficher les données sous forme de page web, nous avons choisi de rester sur un fonctionnement assez simple, en n'utilisant aucun framework Javascript autre que D3.js pour l'affichage des différents graphiques.</p>
          <p>Cette approche nous permet de nous concentrer sur les graphiques et les données affichées, sans avoir trop de fichiers à gérer, ce qui pourrait être le cas si nous utilisons un framework comme React ou Vue. En n'incluant pas ces framework, nous pouvons être plus sereins quant à la taille finale du rendu, ce dernier étant limité à 10 Mo.</p>
          <p>Afin d'éviter la redondance de code et d'avoir un code propre et factorisé, nous avons utilisés les <code>web components</code>. Cela a également facilité la répartition des tâches.</p>
          <p>Les données seront directement récupérées à leur source, aucune copie ne sera faite sur le serveur d'hébergement de notre page web.</p>

          <h2>Démarche de code</h2>

            <h3>Parseur de données</h3>

            <h3>Classes ingrédient et recette</h3>
            <p>La classe Ingredient regroupe le nom de l'ingrédient, la quantité d'émission de GES (en g/kg), la quantité de protéines, de lipides et de glucides (en g/kg), ainsi que l'utilisation des sols (en m²/kg) et de l'eau (en L/kg) de celui-ci. Nous avons ensuite implémenté une fonction permettant de récupérer l'apport calorique total d'un ingrédient, en se basant sur l'approximation suivante : 4g protéines + 9g lipides + 4g glucides = 1kCal.</p>
            <p>Nous avons ensuite créé une classe Recipe, qui a pour attributs un identifiant, un nom, et une dictionnaire contenant le nom de ses ingrédients, et la quantité de ceux-ci à l'intérieur du plat, en grammes. Nous avons alors initialisé plusieurs plats typiques, en ramenant la quantité des ingrédients à une personne.</p>
            <p>Pour récupérer les données nécessaires aux graphes, nous avons implémenté des fonctions qui permettent de calculer la quantité de protéines, lipides et glucides pour chaque plat, en parcourant la liste de ses ingrédients, ainsi qu'une fonction retournant l'apport calorique total de ce dernier. Nous avons aussi ajouté des fonctions permettant de récupérer la quantité d'émission de GES, la quantité d'utilisation des sols et de l'eau de chaque plat.</p>
            <h3>Affichage de graphes</h3>

            <h3>Construction de la page web</h3>
        </div>
        <script src="components/header.js" type="module"></script>
      </main>
    </body>
</html>
